version: '2'
services:
  webserver:
    build: ./
    container_name: webserver
    volumes: 
      - ./html-page:/myapp
    networks: 
      - mynetwork
    
  reverseproxy:    
    image: nginx:latest
    container_name: reverseproxy
    volumes:
      - ./nginx-config-cert/nginx.conf:/etc/nginx/conf.d/default.conf
      - ./nginx-config-cert/cert.crt:/etc/nginx/cert.crt
      - ./nginx-config-cert/cert.key:/etc/nginx/cert.key
    ports:
       - 443:443
       - 80:80
    networks: 
      - mynetwork


networks:
  mynetwork:
    driver: bridge